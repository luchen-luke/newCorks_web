"use strict";(()=>{var e={};e.id=7,e.ids=[7],e.modules={8432:e=>{e.exports=require("bcryptjs")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9926:e=>{e.exports=import("zod")},1333:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>u,default:()=>d,routeModule:()=>p});var i=a(1802),s=a(7153),n=a(6249),o=a(8806),l=e([o]);o=(l.then?(await l)():l)[0];let d=(0,n.l)(o,"default"),u=(0,n.l)(o,"config"),p=new i.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/auth/register",pathname:"/api/auth/register",bundlePath:"",filename:""},userland:o});r()}catch(e){r(e)}})},9822:(e,t,a)=>{a.d(t,{Z:()=>n});let r=require("@prisma/client"),i=globalThis,s=i.prisma||new r.PrismaClient,n=s},8806:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>handler});var i=a(9822),s=a(8432),n=a.n(s),o=a(9926),l=e([o]);o=(l.then?(await l)():l)[0];let d=o.z.object({name:o.z.string().min(1).optional(),email:o.z.string().email().optional(),phone:o.z.string().min(6).optional(),password:o.z.string().min(6)});async function handler(e,t){if("POST"!==e.method)return t.status(405).json({error:"method not allowed"});let a=d.safeParse(e.body);if(!a.success)return t.status(400).json({error:a.error.flatten()});let{name:r,email:s,phone:o,password:l}=a.data;try{let e=await n().hash(l,10),a=await i.Z.user.create({data:{name:r,email:s,phone:o,password:e}});t.status(201).json({id:a.id,name:a.name,email:a.email,phone:a.phone,createdAt:a.createdAt})}catch(e){t.status(500).json({error:String(e)})}}r()}catch(e){r(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222],()=>__webpack_exec__(1333));module.exports=a})();